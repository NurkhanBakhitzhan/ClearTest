## üß± –û–°–ù–û–í–ê –ü–†–û–ï–ö–¢–ê

### üõ† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Frontend**: React (SPA), REST + Socket.IO
    
- **Backend**: Node.js (Express + Socket.IO)
    
- **Database**: PostgreSQL –∏–ª–∏ MongoDB
    
- **–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –≤ –æ–±–ª–∞–∫–µ (–∫–∞—Ä—Ç—ã, —Ç–æ–∫–µ–Ω—ã)
    

---

## üè† –ì–õ–ê–í–ù–ê–Ø –°–¢–†–ê–ù–ò–¶–ê

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- –ù–æ–≤–æ—Å—Ç–Ω–∞—è –ª–µ–Ω—Ç–∞
    
- –ö–Ω–æ–ø–∫–∞ "–ò–≥—Ä–∞—Ç—å"
    
- –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ (—Å–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É / –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è)
    
- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    

### API:

- `GET /news` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π
    

---

## üîê –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø

- `POST /auth/login`
    
- `POST /auth/register`
    
- –¢–æ–∫–µ–Ω (JWT) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
    

---

## üéÆ –ö–û–ú–ù–ê–¢–´

### –†–µ–∂–∏–º—ã:

- `public` ‚Äî –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö
    
- `private` ‚Äî –ø–æ –∫–æ–¥—É
    
- `protected` ‚Äî –ø–æ –ø–∞—Ä–æ–ª—é
    

### Socket-—Å–æ–±—ã—Ç–∏—è:

- `createRoom`
    
- `joinRoom`
    
- `leaveRoom`
    
- `kickPlayer`
    
- `roomClosed`
    

### REST:

- `GET /room/list?mode=public`
    

---

## üßë‚Äçü§ù‚Äçüßë –ò–ì–†–û–í–ê–Ø –°–ï–°–°–ò–Ø

- Socket.IO —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
    
- –ü–µ—Ä–µ–¥–∞—á–∞ —Å–æ–±—ã—Ç–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
    
    - —á–∞—Ç
        
    - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
        
    - –∑–∞–ø—É—Å–∫ —Å—Ü–µ–Ω
        
    - –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã
        
    - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤
        

---

## üßô‚Äç‚ôÇÔ∏è –ü–ï–†–°–û–ù–ê–ñ–ò

### –î–∞–Ω–Ω—ã–µ:

- –ò–º—è, –∫–ª–∞—Å—Å, —Ä–∞—Å–∞, —Å—Ç–∞—Ç—ã, —É–º–µ–Ω–∏—è
    
- –ó–∞–º–µ—Ç–∫–∏ (–ª–∏—á–Ω—ã–µ/–ø—É–±–ª–∏—á–Ω—ã–µ)
    
- –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
    

### API:

- `GET /characters`
    
- `POST /characters`
    
- `PUT /characters/:id`
    
- `DELETE /characters/:id`
    

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:

- `GET /characters/:id/notes`
    
- `POST /characters/:id/notes`
    
- `GET /characters/:id/inventory`
    
- `POST /characters/:id/inventory`
    

---

## üó∫Ô∏è –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ï –ö–ê–†–¢–´ –ò –°–¶–ï–ù–´

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç—ã
    
- –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
    
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ü–µ–Ω—ã
    
- –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
    

### API:

- `POST /maps/upload`
    
- `GET /maps`
    
- `POST /scenes`
    
- `GET /scenes`
    

### DB:

- `maps`: id, userId, filename, ...
    
- `scenes`: id, userId, mapId, name, tokens[]
    

### Socket:

- `loadScene`, `placeToken`, `moveToken`
    

---

## üí¨ –ß–ê–¢ –í –ò–ì–†–ï (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- Socket:
    
    - `chatMessage`
        
    - `systemMessage`
        
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    

---

## üì¶ –ë–ê–ó–ê –î–ê–ù–ù–´–• (–æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã)

1. `users`: id, username, email, passwordHash
    
2. `news`: id, title, content, createdAt
    
3. `rooms`: id, ownerId, mode, name, passwordHash, createdAt
    
4. `room_players`: roomId, userId
    
5. `characters`: id, userId, name, class, stats, etc.
    
6. `notes`: id, characterId, content, isPrivate
    
7. `inventory_items`: id, characterId, name, quantity
    
8. `maps`: id, userId, filename
    
9. `scenes`: id, userId, mapId, tokens[]
    

---

## üîó –°–ï–¢–ï–í–û–ô –ü–†–û–¢–û–ö–û–õ

- REST: –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –Ω–æ–≤–æ—Å—Ç–µ–π, –∫–∞—Ä—Ç, —Å—Ü–µ–Ω, –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
    
- Socket.IO: –¥–ª—è –∫–æ–º–Ω–∞—Ç—ã, –∏–≥—Ä—ã, —Å—Ü–µ–Ω, —á–∞—Ç–∞

-----------------------

## üé≤ –ë–†–û–°–ö–ò –ö–£–ë–ò–ö–û–í (Dice Rolls)

### üîß –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫–∏:
    
    - D4, D6, D8, D10, D12, D20, D100
        
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∏—Å–∞—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏—è:
    
    - `2d6 + 3`, `1d20 + STR`
        
- –í–∏–¥–∏–º–æ—Å—Ç—å –±—Ä–æ—Å–∫–∞:
    
    - –ü—Ä–∏–≤–∞—Ç–Ω–æ (—Ç–æ–ª—å–∫–æ –∏–≥—Ä–æ–∫ –≤–∏–¥–∏—Ç)
        
    - –ü—É–±–ª–∏—á–Ω–æ (–≤—Å–µ –≤ –∫–æ–º–Ω–∞—Ç–µ –≤–∏–¥—è—Ç)
        

---

### üì° –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

#### Socket.IO —Å–æ–±—ã—Ç–∏—è:

- `rollDice` ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –±—Ä–æ—Å–∫–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞:
    

json

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`{   "expression": "2d6+1",   "private": false }`

- `diceResult` ‚Äî —Å–µ—Ä–≤–µ—Ä —Ä–∞—Å—Å—ã–ª–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å–µ–º:
    

json

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`{   "player": "Thorin",   "expression": "2d6+1",   "result": 9,   "private": false }`

---

### ‚öôÔ∏è –õ–æ–≥–∏–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

- –†–∞—Å–ø–∞—Ä—Å–∏—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (`2d6+1`)
    
- –ë—Ä–æ—Å–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ —á–∏—Å–ª–∞
    
- –ü–æ—Å—á–∏—Ç–∞—Ç—å –∏—Ç–æ–≥
    
- –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–≤—Å–µ–º –∏–ª–∏ —Ç–æ–ª—å–∫–æ –±—Ä–æ—Å–∏–≤—à–µ–º—É)
    

---

### üß™ –í–æ–∑–º–æ–∂–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):

- [dice-roller](https://www.npmjs.com/package/rpg-dice-roller)
    
- [d20](https://www.npmjs.com/package/d20)
    

–ü—Ä–∏–º–µ—Ä:

js

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`import { DiceRoll } from 'rpg-dice-roller'; const roll = new DiceRoll('2d6+3'); console.log(roll.total); // 10`

---

### üñº –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ (frontend):

- –§–æ—Ä–º–∞ –∏–ª–∏ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –±—Ä–æ—Å–∫–∞ –∫—É–±–∏–∫–æ–≤
    
- –ò—Å—Ç–æ—Ä–∏—è –±—Ä–æ—Å–∫–æ–≤
    
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
-------------------

üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è DnD-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
|–¢–∞–±–ª–∏—Ü–∞|–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|
|---|---|
|`users`|–ê–∫–∫–∞—É–Ω—Ç—ã –∏–≥—Ä–æ–∫–æ–≤ –∏ –º–∞—Å—Ç–µ—Ä–æ–≤|
|`sessions`|–ò–≥—Ä–æ–≤—ã–µ —Å–µ—Å—Å–∏–∏ (–∫–æ–º–Ω–∞—Ç—ã)|
|`characters`|–õ–∏—Å—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π|
|`maps`|–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∫–∞—Ä—Ç—ã|
|`tokens`|–¢–æ–∫–µ–Ω—ã, —Ä–∞–∑–º–µ—â–∞–µ–º—ã–µ –Ω–∞ –∫–∞—Ä—Ç–µ|
|`scenes`|–°—Ü–µ–Ω—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –Ω–∞ –∫–∞—Ä—Ç–µ|
|`notes`|–ó–∞–º–µ—Ç–∫–∏ –∏–≥—Ä–æ–∫–æ–≤/–º–∞—Å—Ç–µ—Ä–∞|
|`inventories`|–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π|
|`dice_logs`|–ò—Å—Ç–æ—Ä–∏—è –±—Ä–æ—Å–∫–æ–≤ –∫—É–±–∏–∫–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)|